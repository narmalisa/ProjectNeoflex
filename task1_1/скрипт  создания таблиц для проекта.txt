скрипт  создания таблиц для проекта 
-- Создание схемы DS
CREATE SCHEMA IF NOT EXISTS DS;


CREATE TABLE IF NOT EXISTS "DS".FT_BALANCE_F (
    "ON_DATE" DATE NOT NULL,
    "ACCOUNT_RK" INT NOT NULL,
    "CURRENCY_RK" INT,
    "BALANCE_OUT" FLOAT,

    PRIMARY KEY ("ON_DATE", "ACCOUNT_RK")
);


CREATE TABLE IF NOT EXISTS "DS".FT_POSTING_F (
    "OPER_DATE" DATE NOT NULL,
    "CREDIT_ACCOUNT_RK" INT NOT NULL,
    "DEBET_ACCOUNT_RK" INT NOT NULL,
    "CREDIT_AMOUNT" FLOAT,
    "DEBET_AMOUNT" FLOAT
);

CREATE TABLE IF NOT EXISTS "DS".MD_ACCOUNT_D (
    "DATA_ACTUAL_DATE" DATE NOT NULL,
    "DATA_ACTUAL_END_DATE" DATE NOT NULL,
    "ACCOUNT_RK" INT NOT NULL,
    "ACCOUNT_NUMBER" CHAR(20) NOT NULL,
    "CHAR_TYPE" CHAR(1) NOT NULL,
    "CURRENCY_RK" INT NOT NULL, -- Внешний ключ
    "CURRENCY_CODE" CHAR(3) NOT NULL,

    PRIMARY KEY ("DATA_ACTUAL_DATE", "ACCOUNT_RK")
);


CREATE TABLE IF NOT EXISTS "DS".MD_CURRENCY_D (
    "CURRENCY_RK" INT NOT NULL,
    "DATA_ACTUAL_DATE" DATE NOT NULL, 
    "DATA_ACTUAL_END_DATE" DATE NOT NULL, 
    "CURRENCY_CODE" CHAR(3),
    "CODE_ISO_CHAR" CHAR(3),

    PRIMARY KEY ("CURRENCY_RK", "DATA_ACTUAL_DATE")
);


CREATE TABLE IF NOT EXISTS "DS".MD_EXCHANGE_RATE_D (
    "DATA_ACTUAL_DATE" DATE NOT NULL,
    "DATA_ACTUAL_END_DATE" DATE,
    "CURRENCY_RK" INT NOT NULL,
    "REDUCED_COURCE" FLOAT,
    "CODE_ISO_NUM" CHAR(3),

    PRIMARY KEY ("DATA_ACTUAL_DATE", "CURRENCY_RK")
);

-- Справочник: MD_LEDGER_ACCOUNT_S
CREATE TABLE IF NOT EXISTS "DS".MD_LEDGER_ACCOUNT_S (
    "CHAPTER" CHAR(1),
    "CHAPTER_NAME" CHAR(16),
    "SECTION_NUMBER" INT,
    "SECTION_NAME" CHAR(22),
    "SUBSECTION_NAME" CHAR(21),
    "LEDGER1_ACCOUNT" INT,
    "LEDGER1_ACCOUNT_NAME" CHAR(47),
    "LEDGER_ACCOUNT" INT NOT NULL,
    "LEDGER_ACCOUNT_NAME" CHAR(153),
    "CHARACTERISTIC" CHAR(1),
    "IS_RESIDENT" INT,
    "IS_RESERVE" INT,
    "IS_RESERVED" INT,
    "IS_LOAN" INT,
    "IS_RESERVED_ASSETS" INT,
    "IS_OVERDUE" INT,
    "IS_INTEREST" INT,
    "PAIR_ACCOUNT" CHAR(5),
    "START_DATE" DATE NOT NULL,
    "END_DATE" DATE,
    "IS_RUB_ONLY" INT,
    "MIN_TERM" CHAR(1),
    "MIN_TERM_MEASURE" CHAR(1),
    "MAX_TERM" CHAR(1), 
    "MAX_TERM_MEASURE" CHAR(1),
    "LEDGER_ACC_FULL_NAME_TRANSLIT" CHAR(1),
    "IS_REVALUATION" CHAR(1), 
    "IS_CORRECT" CHAR(1),

	PRIMARY KEY ("LEDGER_ACCOUNT", "START_DATE")
);

-- Создание схемы LOGS

CREATE SCHEMA LOGS;

CREATE TABLE IF NOT EXISTS "LOGS".etl_log (
    log_id PRIMARY KEY,
    start_time TIMESTAMP,
    end_time TIMESTAMP,
    message TEXT
);

